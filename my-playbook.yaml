---
- name: INSTALL VSCod?
  hosts: localhost

  vars_files:
    - secrets.yaml

  tasks:

  - name: Add Microsoft Visual Studio Code Repo
    become: yes
    yum_repository:
      name: vscode
      description: Visual Studio Code
      baseurl: https://packages.microsoft.com/yumrepos/vscode
      gpgcheck: yes
      gpgkey: https://packages.microsoft.com/keys/microsoft.asc

  - name: Install/Update VSCode
    become: yes
    dnf:
      name: code
      state: latest

  - git_config:
      name: user.name
      scope: global
      value: "{{ full_name }}"
    become: false

  - git_config:
      name: user.email
      scope: global
      value: "{{ email }}"
    become: false
